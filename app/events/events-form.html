<div class="row">

    <div class="col-sm-12">

        <form role="form" name="eventForm">
            <fieldset>
                <legend>Event Creation Form</legend>

                <p class="alert alert-success" ng-if="ctrl.saved">
                    Event created successfully!
                    <br/>
                    Thanks for creating the event.
                </p>

                <div class="form-group">
                    <label for="event-name">Event Name:</label>
                    <input
                        name="event-name"
                        type="text" class="form-control" id="event-name"
                        ng-model="ctrl.event.eventName" required="true"
                    />
                </div>
              
                <label>Visibility:</label>
                <div class="form-group">
                  <div class="radio">
                    <label>
                      <input type="radio" name="visiblity" value="public" 
                        ng-model="ctrl.event.visibility" ng-checked="true"
                      />Public
                    </label>
                  </div>
                  <div class="radio">
                    <label>
                      <input type="radio" name="visiblity" value="private"
                        ng-model="ctrl.event.visibility"
                      />Private (Password Protected)
                    </label>
                  </div>
                </div>
              
                <div class="form-group" ng-if="ctrl.event.visibility==='private'">
                  <label for="password">Password:</label>
                    <input
                        name="password"
                        type="password" class="form-control" id="password"
                        ng-model="ctrl.event.password" required="true"
                    />
                </div>
                
                <label>Platform:</label>
                <div class="form-group">
                  <label class="checkbox-inline" ng-repeat="choice in ctrl.services.choices">
                    <input type="checkbox" value="{{choice.name}}"
                      ng-model="ctrl.event.services[choice.name]"
                      name="platform"/>
                    {{choice.name}}
                  </label>
                </div>
              
                <div class="form-group">
                  <label for="criteria">Minimum number of badges required:</label>
                  <input
                    name="criteria"
                    type="number" min="1" step="1" pattern="\d+"
                    class="form-control" id="criteria"
                    ng-model="ctrl.event.criteria" required="true"
                  />
                </div>
              
                <div class="form-group">
                  <label for="criteria">Start Date:</label>
                  <input
                    name="start"
                    type="date" class="form-control" id="start"
                    ng-attr-min="{{ctrl.today}}"
                    ng-attr-max="{{ctrl.nextYear}}"
                    ng-model="ctrl.event.start" required="true"
                  />
                </div>
              
                <div class="form-group">
                  <label for="criteria">End Date:</label>
                  <input
                    name="end"
                    type="date" class="form-control" id="end"
                    ng-attr-min="{{ctrl.event.start}}"
                    ng-attr-max="{{ctrl.nextYear}}"
                    ng-model="ctrl.event.end" required="true"
                  />
                </div>
                 
                <div class="form-group">
                    <label for="reward">Reward:</label>
                    <input
                        name="reward"
                        type="text" class="form-control" id="reward"
                        ng-model="ctrl.event.reward" required="true"
                    />
                </div>

                <div class="form-group">
                    <label for="add-comment">Additional Comments:</label>
                    <textarea
                        name="add-comment"
                        class="form-control" id="add-comment" rows="1"
                        ng-model="ctrl.event.comments"
                    ></textarea>
                </div>
            </fieldset>

            <button
                type="submit" class="btn btn-default"
                ng-click="ctrl.save(ctrl.event)"
                ng-disabled="eventForm.$invalid || ctrl.saving || ctrl.saved"
            >
                Create Event
            </button>

            <button
                class="btn btn-default"
                ng-click="ctrl.reset()"
                ng-disabled="ctrl.saving || eventForm.$pristine"
            >
                Reset
            </button>

        </form>

    </div>
</div>